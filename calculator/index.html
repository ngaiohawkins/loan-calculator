<!DOCTYPE html>
<html>
    <head>
        <title>Calculator</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    </head>

    <body>
        <form id="calculator" oninput="displayResult()">
            <fieldset>
                <legend>Loan Amortization Calculator</legend>
                <label for="P">Prinicipal:</label>
                <input type="number" id="P" placeholder="Principal" value="">
                <br><br>
    
                <label for="i">Interest rate:</label>
                <input type="number" id="i" placeholder="Interest rate" value="">
                <br><br>
    
                <label for="n">Number of payments:</label>
                <input type="number" id="n" placeholder="Number of payments" value="">
                
                <p id="result-box">Result: <output id="result"></output></p>
            </fieldset>
        </form>
    </body>
</html>

<script>
    window.onload = function() {
        document.getElementById("calculator").reset();
    };

    function calculate() {
        var P_id = document.getElementById('P');
        var i_id = document.getElementById('i');
        var n_id = document.getElementById('n');

        var P = P_id.value;
        var n = n_id.value;
        var i = i_id.value;

        return P*((i*Math.pow((1+i),n))/(Math.pow((1+i),n)-1));
    }

    function displayResult() {
        var total = calculate();
        var result = document.getElementById('result');
        result.textContent = total;
    }
</script>